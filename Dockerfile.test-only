FROM maven:3-jdk-11-slim@sha256:2cb7c73ba2fd0f7ae64cfabd99180030ec85841a1197b4ae821d21836cb0aa3b as buildtime

WORKDIR /build
COPY . .

RUN mvn clean package

FROM amazoncorretto:11@sha256:132d295e2e1d1a273563bac24a6b080d88f5982b91b403a30d7c190e4352ffc4 as runtime

WORKDIR /app

COPY --from=buildtime /build/target/*.jar /app/library.jar